<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Mini Library - Catalog</title>
    <link rel="stylesheet" href="/css/styles.css">
    <script src="/js/catalog.js"></script>
    <script src="/js/css.js"></script>
    <script src="/js/message.js"></script>
</head>
<body>
<div id="messageModal" class="modal">
    <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <p id="modalMessage"></p>
    </div>
</div>
<nav>
    <ul>
        <li><a href="index.html">Olvasók</a></li>
        <li><a href="catalog.html" class="active">Könyvek</a></li>
        <li><a href="lending.html">Kölcsönzés</a></li>
        <li><a href="userlendings.html">Kölcsönzéseim</a></li>
    </ul>
</nav>

<h1>Katalógus</h1>
<div class="form-container">
    <h2>Új könyv felvétele a könyvtárba</h2>
    <form onsubmit="event.preventDefault(); addBook();">
        <div class="form-row">
            <input type="text" id="titleNew" placeholder="A könyv címe" required>
            <input type="text" id="authorNew" placeholder="Szerző neve" required>
        </div>
        <div class="form-row">
            <input type="text" id="genreNew" placeholder="Műfaj">
            <input type="number" id="publishedNew" placeholder="Kiadás éve" required>
        </div>
        <div class="form-row">
            <input type="text" id="publisherNew" placeholder="Kiadó">
            <input type="text" id="languageNew" placeholder="Nyelv">
        </div>
        <div class="form-row">
            <input type="text" id="isbnNew" placeholder="ISBN szám">
            <input type="text" id="availableNew" placeholder="Elérhető">
        </div>
        <div class="form-row full-width">
            <button id="new-book-button">Új könyv felvétele</button>
        </div>
    </form>
</div>

<div class="form-container">
    <h2>Könyv adatainak frissítése</h2>
    <form onsubmit="event.preventDefault(); getBookById();">
        <div class="form-row full-width">
            <input type="number" id="bookId" placeholder="Könyv azonosítója" required>
        </div>
        <div class="form-row full-width">
            <button type="submit">Keresés</button>
        </div>
    </form>
    <form onsubmit="event.preventDefault(); updateBook();">
        <div class="form-row">
            <input type="text" id="title" placeholder="A könyv címe" required>
            <input type="text" id="author" placeholder="Szerző neve" required>
        </div>
        <div class="form-row">
            <input type="text" id="genre" placeholder="Műfaj">
            <input type="number" id="published" placeholder="Kiadás éve" required>
        </div>
        <div class="form-row">
            <input type="text" id="publisher" placeholder="Kiadó">
            <input type="text" id="language" placeholder="Nyelv">
        </div>
        <div class="form-row">
            <input type="text" id="isbn" placeholder="ISBN szám">
            <input type="text" id="available" placeholder="Elérhető">
        </div>
        <div class="form-row full-width">
            <button id="modify-book-button">Módosítás</button>
        </div>
    </form>
</div>

<div class="form-container">
    <h2>Könyv törlése a könyvtárból</h2>
    <form onsubmit="event.preventDefault(); deleteBook();">
        <div class="form-row full-width">
            <input type="number" id="bookIdDelete" placeholder="Könyv azonosítója" required>
        </div>
        <div class="form-row full-width">
            <button id="delete-book-button">Törlés</button>
        </div>
    </form>
</div>

<div class="form-container full-width">
    <h2>Alaphelyzet</h2>
    <form onsubmit='preventDefault(); resetForms()'>
        <div class="form-row full-width">
            <button id="reset-form">Alaphelyzet</button>
        </div>
    </form>
</div>

<h2>Könyvek</h2>

<table id="books-table">
    <thead>
    <tr>
        <th>ID</th>
        <th>Cím</th>
        <th>Szerző</th>
        <th>Műfaj</th>
        <th>Kiadó</th>
        <th>Kiadás éve</th>
        <th>Nyelv</th>
        <th>ISBN szám</th>
        <th>Kölcsönözhető</th>
    </tr>
    </thead>

    <tbody id="catalog-body">
    <!-- Itt jelennek majd meg a sorok -->
    </tbody>
</table>
<script>
    document.getElementById('new-book-button').addEventListener('click', () => fetchCatalogTable());
    document.getElementById('delete-book-button').addEventListener('click', () => fetchCatalogTable());
    document.getElementById('modify-book-button').addEventListener('click', () => fetchCatalogTable());
</script>
</body>
</html>
