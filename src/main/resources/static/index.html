<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>My Mini Library - Readers</title>
    <link href="/css/styles.css" rel="stylesheet">
    <script src="/js/readers.js"></script>
    <script src="/js/css.js"></script>
    <script src="/js/message.js"></script>
</head>
<body>
<div class="modal" id="messageModal">
    <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <p id="modalMessage"></p>
    </div>
</div>
<nav>
    <ul>
        <li><a class="active" href="index.html">Olvasók</a></li>
        <li><a href="catalog.html">Könyvek</a></li>
        <li><a href="lending.html">Kölcsönzés</a></li>
        <li><a href="userlendings.html">Kölcsönzéseim</a></li>
    </ul>
</nav>
<h1>Olvasók kezelése</h1>

<div class="form-container">
    <h2>Új olvasó hozzáadása</h2>
    <form onsubmit="event.preventDefault(); addReader();">
        <div class="form-row">
            <input id="firstNameNew" placeholder="Vezetéknév" required type="text">
            <input id="middleNameNew" placeholder="Keresztnév" required type="text">
        </div>
        <div class="form-row">
            <input id="lastNameNew" placeholder="2. keresztnév" type="text">
            <select id="yearOfBirthNew" required>
                <option disabled selected value="">Születési év</option>
            </select>
        </div>
        <div class="form-row">
            <input id="registrationDateNew" placeholder="Regisztráció dátuma" required type="date">
        </div>
        <div class="form-row full-width">
            <button id="new-reader-button">Új olvasó felvétele</button>
        </div>
    </form>
</div>

<div class="form-container">
    <h2>Olvasó adatainak frissítése</h2>
    <form onsubmit="event.preventDefault(); getReaderById();">
        <div class="form-row full-width">
            <input id="readerId" placeholder="Olvasó azonosítója" required type="number">
        </div>
        <div class="form-row full-width">
            <button type="submit">Keresés</button>
        </div>
    </form>
    <form class="right-form" onsubmit="event.preventDefault(); updateReader();">
        <div class="form-row">
            <input id="firstName" placeholder="Vezetéknév" required type="text">
            <input id="middleName" placeholder="Keresztnév" required type="text">
        </div>
        <div class="form-row">
            <input id="lastName" placeholder="2. keresztnév" type="text">
            <select id="yearOfBirth" required>
                <option disabled selected value="">Születési év</option>
                <!-- Évek generálása JavaScript-tel -->
            </select>
        </div>
        <div class="form-row">
            <input id="registrationDate" placeholder="Regisztráció dátuma" type="date">
        </div>
        <div class="form-row full-width">
            <button id="modify-reader-button">Módosítás</button>
        </div>
    </form>
</div>

<div class="form-container full-width">
    <h2>Olvasó törlése</h2>
    <form onsubmit="event.preventDefault(); deleteReader();">
        <div class="form-row full-width">
            <input id="readerIdDelete" placeholder="Olvasó azonosítója" required type="number">
        </div>
        <div class="form-row full-width">
            <button id="delete-reader-button">Törlés</button>
        </div>
    </form>
</div>

<div class="form-container full-width">
    <h2>Alaphelyzet</h2>
    <form onsubmit="event.preventDefault(); resetForms();">
        <div class="form-row full-width">
            <button id="reset-form">Alaphelyzet</button>
        </div>
    </form>
</div>


<h2>Olvasók</h2>

<table id="readers-table">
    <thead>
    <tr>
        <th>ID</th>
        <th>First Name</th>
        <th>Middle Name</th>
        <th>Last Name</th>
        <th>Year of Birth</th>
        <th>Registration Date</th>
        <th>Created At</th>
        <th>Modified At</th>
    </tr>
    </thead>

    <tbody id="readers-body">
    <!-- Itt jelennek majd meg a sorok -->
    </tbody>
</table>
<script>
    document.getElementById('new-reader-button').addEventListener('click', () => fetchReadersTable());
    document.getElementById('delete-reader-button').addEventListener('click', () => fetchReadersTable());
    document.getElementById('modify-reader-button').addEventListener('click', () => fetchReadersTable());
</script>
</body>
</html>
